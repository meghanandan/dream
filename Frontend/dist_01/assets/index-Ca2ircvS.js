import{r as n,b1 as W,b2 as j,ah as y,j as e,n as l,w as F,b6 as M,v as c,aq as N,aR as V,aS as q,aT as G,aU as b,aV as f,aW as J,ae as U,a_ as K,P as Q,ax as X,ay as Y,az as Z,V as ee,b7 as te,b8 as ae,H as se,C as ne}from"./index-cVH_xp6I.js";import{D as oe}from"./index-DPZk-k-v.js";const{RangePicker:ue}=oe,re=[{key:"order_code",title:"Order ID"},{key:"customer_name",title:"Customer Name"},{key:"dispute_reason",title:"Dispute Reason"},{key:"dispute_status",title:"Dispute Status"},{key:"credit_amount",title:"Dispute Amount"},{key:"order_incentive_date",title:"Dispute Date"},{key:"action",title:"Action"}];function ie(){const[D,d]=n.useState([]),[h,P]=n.useState(re),[i,u]=n.useState(0),[o,p]=n.useState(0),[r,k]=n.useState(10),[S,x]=n.useState(null),[w,m]=n.useState(!1),[v,C]=n.useState([]),[O,T]=n.useState([]),[ce,_]=n.useState(null),g=W.getJson("userData");n.useEffect(()=>{A(),I()},[o,r]);const A=()=>{const t={user_id:g.user_id,org_code:g.organization,type:2,page_size:r,page_number:o+1};j(y.auth.getDisputeList,"POST",t).then(a=>{var s;((s=a==null?void 0:a.data)==null?void 0:s.length)<0?(P([...a.headers||[],{key:"action",title:"Action"}]),d(a.data),u(a.count)):(d([]),u(0))}).catch(a=>console.error("Error while fetching orders:",a))},I=()=>{const t={search_key:"",type:null};j(y.auth.getDisputeorAdjustmentDropDown,"POST",t).then(a=>{var s;((s=a==null?void 0:a.data)==null?void 0:s.length)>0&&C(a.data)}).catch(a=>console.error("Error while fetching dropdown data:",a))},R=(t,a)=>{_(a),x(t.currentTarget),m(!0)},E=()=>{m(!1),x(null)},z=t=>{T(a=>a.includes(t)?a.filter(s=>s!==t):[...a,t])},B=(t,a)=>p(a),H=t=>{k(parseInt(t.target.value,10)),p(0)},L=[e.jsx(ae,{underline:"hover",color:"inherit",to:"/home",children:"Home"},"1"),e.jsx(c,{sx:{color:"text.primary"},children:"Adjustments"},"3")];return e.jsxs(l,{sx:{px:3,py:2,minHeight:"100vh"},children:[e.jsx(F,{spacing:1,children:e.jsx(M,{separator:"â€º","aria-label":"breadcrumb",children:L})}),e.jsx(c,{variant:"h4",gutterBottom:!0,children:"Adjustments"}),e.jsxs(N,{sx:{boxShadow:3},children:[e.jsx(V,{children:e.jsxs(q,{size:"small",children:[e.jsx(G,{children:e.jsx(b,{children:h.map(t=>e.jsx(f,{children:t.title},t.key))})}),e.jsx(J,{children:D.map((t,a)=>e.jsx(b,{children:h.map(s=>e.jsx(f,{children:s.key==="action"?e.jsx(U,{onClick:$=>R($,t.id),children:e.jsx(K,{})}):t[s.key]||"--"},s.key))},t.id))})]})}),e.jsx(Q,{open:w,anchorEl:S,onClose:E,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:e.jsx(X,{children:v.map(t=>e.jsxs(Y,{dense:!0,children:[e.jsx(Z,{checked:O.includes(t.id),onChange:()=>z(t.id)}),e.jsx(ee,{primary:t.name})]},t.id))})}),e.jsxs(l,{display:"flex",justifyContent:"space-between",alignItems:"center",p:1,sx:{flexWrap:"wrap",gap:1},children:[e.jsx(c,{variant:"body2",sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",flex:1},children:`Showing data ${o*r+1} to ${Math.min((o+1)*r,i)} of ${i}`}),e.jsx(l,{sx:{flexShrink:0},children:e.jsx(te,{component:"div",count:i,page:o,onPageChange:B,rowsPerPage:r,onRowsPerPageChange:H,rowsPerPageOptions:[10,20,30,40]})})]})]})]})}const le={title:`Adjustment - ${ne.site.name}`};function pe(){return e.jsxs(e.Fragment,{children:[e.jsx(se,{children:e.jsxs("title",{children:[" ",le.title]})}),e.jsx(ie,{})]})}export{pe as default};
