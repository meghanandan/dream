import{ao as L,r as n,b1 as O,b2 as F,ah as _,j as e,n as m,w,b6 as M,v as o,aq as k,T as N,aA as j,h as p,aD as R,aR as W,aS as q,aT as G,aU as g,aV as t,aW as J,ae as v,aE as K,aY as U,aK as V,aL as Y,aM as $,aP as Q,b8 as X,H as Z,C as ee}from"./index-cVH_xp6I.js";import{C as se}from"./CustomFieldDialog-DSPkbHcw.js";import{P as te}from"./Pagination-vnbvh52T.js";import{D as ae}from"./DialogContentText-Ep2To2m5.js";import"./formik.esm-63xKD07Q.js";import"./Radio-CrP7E0ac.js";function ne(){const C=L(),[f,b]=n.useState([]),[c,y]=n.useState(0),[P,S]=n.useState(!1),[d,E]=n.useState(""),[l,I]=n.useState(1),[i,ie]=n.useState(10),[A,h]=n.useState(!1),[z,r]=n.useState(!1),[T,x]=n.useState(null),D=O.getJson("userData");n.useEffect(()=>{u()},[l,i,d]);const u=async()=>{S(!0);const s={org_code:D.organization,user_id:D.user_id,page_size:i,page_number:l,search_key:d};try{const a=await F(_.external_api.getCustomFieldsList,"POST",s);a.status?(b(a.data),y(a.total)):(b([]),y(0))}catch(a){console.error("Error fetching custom fields:",a)}finally{S(!1)}},B=async()=>{const s={id:T.id};try{await F(_.external_api.deleteCustomFields,"POST",s),r(!1),u()}catch(a){console.error("Error deleting custom field:",a)}},H=[e.jsx(X,{to:"/home",children:"Home"},"1"),e.jsx(o,{color:"text.primary",children:"Settings"},"2"),e.jsx(o,{color:"text.primary",children:"Custom Fields"},"3")];return e.jsxs(m,{sx:{px:3,py:2,minHeight:"100vh"},children:[e.jsx(w,{spacing:1,children:e.jsx(M,{separator:"â€º",children:H})}),e.jsx(o,{variant:"h5",fontWeight:"bold",sx:{mb:1},children:"Custom Fields"}),e.jsx(k,{sx:{p:1,mb:2},children:e.jsxs(m,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[e.jsx(N,{label:"Search Custom Fields",variant:"outlined",size:"small",value:d,onChange:s=>E(s.target.value),sx:{width:"30%"}}),e.jsx(j,{title:"Add Custom Field",children:e.jsx(p,{variant:"contained",sx:{backgroundColor:C.palette.primary.main,"&:hover":{backgroundColor:C.palette.primary.dark}},startIcon:e.jsx(R,{}),onClick:()=>{h(!0),x(null)},children:"Add Custom Field"})})]})}),e.jsxs(k,{children:[e.jsx(W,{children:e.jsxs(q,{children:[e.jsx(G,{children:e.jsxs(g,{children:[e.jsx(t,{children:"Name"}),e.jsx(t,{children:"Label"}),e.jsx(t,{children:"Type"}),e.jsx(t,{children:"Description"}),e.jsx(t,{align:"center",children:"Actions"})]})}),e.jsxs(J,{children:[f.map((s,a)=>e.jsxs(g,{children:[e.jsx(t,{children:s.field_name}),e.jsx(t,{children:s.field_label}),e.jsx(t,{children:s.field_element||"--"}),e.jsx(t,{children:s.field_description||"--"}),e.jsxs(t,{align:"center",children:[e.jsx(j,{title:"Edit",children:e.jsx(v,{color:"warning",onClick:()=>{h(!0),x(s)},children:e.jsx(K,{})})}),e.jsx(j,{title:"Delete",children:e.jsx(v,{color:"error",onClick:()=>{r(!0),x(s)},children:e.jsx(U,{})})})]})]},s.id)),!f.length&&!P&&e.jsx(g,{children:e.jsx(t,{colSpan:5,align:"center",children:"No records found."})})]})]})}),e.jsxs(m,{display:"flex",justifyContent:"space-between",alignItems:"center",px:2,py:2,children:[e.jsxs(o,{variant:"body2",children:["Showing ",(l-1)*i+1," to ",Math.min(l*i,c)," of ",c]}),e.jsx(te,{count:Math.ceil(c/i),page:l,onChange:(s,a)=>I(a),color:"primary"})]})]}),e.jsx(se,{open:A,data:T,onClose:()=>{h(!1),u()},slug:"custom-field"}),e.jsxs(V,{open:z,onClose:()=>r(!1),children:[e.jsx(Y,{children:"Delete Custom Field"}),e.jsx($,{children:e.jsx(ae,{children:"Are you sure you want to delete this custom field? This action cannot be undone."})}),e.jsxs(Q,{children:[e.jsx(p,{variant:"contained",onClick:B,color:"error",children:"Delete"}),e.jsx(p,{onClick:()=>r(!1),children:"Cancel"})]})]})]})}const le={title:`Custom Fields - ${ee.site.name}`};function ue(){return e.jsxs(e.Fragment,{children:[e.jsx(Z,{children:e.jsxs("title",{children:[" ",le.title]})}),e.jsx(ne,{})]})}export{ue as default};
